install.packages("instalr")
install.packages("installr")
install.packages(installr)
install.packages("installr")
install.packages("installr")
install.packages(c("dplyr", "car"))
data -> read.csv("Data and Documentation/ss14pco.csv", stringsAsFactors=FALSE)
data -> read.csv("Data and Documentation/ss14pco.csv", stringsAsFactors = FALSE)
data <- read.csv("Data and Documentation/ss14pco.csv", stringsAsFactors = FALSE)
table(data$povpip)
table(data$POVPIP)
data <- data%>% # passes the data object we created above to the next function
mutate(poverty_new=recode(POVPIP, "000:124=1; 125:183=2; 183:501=3"))
library(car)
library(dplyr)
data <- data%>% # passes the data object we created above to the next function
mutate(poverty_new=recode(POVPIP, "000:124=1; 125:183=2; 183:501=3"))
poverty <- data%>%
group_by(poverty_new)%>%
summarize(total=sum(PWGTP))
View(poverty)
poverty
library(car)
library(dplyr)
# Change the file path to the proper location
# setwd(PATH_TO_TUTORIAL_FOLDER) #uncomment this line to change directory.
# reads in the csv file and stores it. stringsAsFactors=FALSE keeps R from tansforming variables you don't want transformed.
data <- read.csv("Data and Documentation/ss14pco.csv", stringsAsFactors=FALSE)
data <- data%>% # passes the data object we created above to the next function
mutate(poverty_new=recode(POVPIP, "000:124=1; 125:183=2; 183:501=3")) # adds the poverty_new variable to the end of the dataset, it doesn't over write POVPIP.
table(AGEP, exclude=NULL)
table(data$AGEP, exclude=NULL)
data <- data%>%
mutate(child_wMissing=ifelse(is.na(AGEP), NA,
ifelse(AGEP<18, 1, 2)))
identical(data$child, data$child_wMissing)
children_poverty <- data%>%
group_by(poverty_new, child)%>%
summarize(total=sum(PWGTP)
)
sum(data$child)
data <- data%>%
mutate(child=ifelse(AGEP<18, 1, 2))
children_poverty <- data%>%
group_by(poverty_new, child)%>%
summarize(total=sum(PWGTP)))
children_poverty <- data%>%
group_by(poverty_new, child)%>%
summarize(total=sum(PWGTP))
View(children_poverty)
data <- data%>%
mutate(poverty_labels=ordered(poverty_new, levels=1:3, labels =
c("Less than 125%", "125% to 183%", "More than 183%")),
child_labels= ordered(child, levels=1:2, labels =
c("Child", "Adult")))
children_poverty_labels <- data
group_by(poverty_labels, child_labels)%>%
summarize(total=sum(PWGTP))
identical(children_poverty$total, children_poverty_labels$total)
data <- data%>%
mutate(poverty_labels=ordered(poverty_new, levels=1:3, labels =
c("Less than 125%", "125% to 183%", "More than 183%")),
child_labels= ordered(child, levels=1:2, labels =
c("Child", "Adult")))
# Creating a new object to store the labeled table
children_poverty_labels <- data
group_by(poverty_labels, child_labels)%>%
summarize(total=sum(PWGTP))
children_poverty_labels <- data%>%
group_by(poverty_labels, child_labels)%>%
summarize(total=sum(PWGTP))
identical(children_poverty$total, children_poverty_labels$total)
children_poverty_labels
